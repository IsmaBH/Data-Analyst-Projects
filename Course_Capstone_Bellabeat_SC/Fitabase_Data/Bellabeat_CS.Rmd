---
title: "Bellabeat_CS"
author: "Diego Bar√≥n"
date: "2024-08-18"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## First load the necessary libraries
```{r Loading libraries}
library("tidyverse")
library("ggplot2")
library("skimr")
library("janitor")
library("dplyr")
library("here")
```
## Now the import of the datasets
For my case of study I decided to focus on the Time watch which tracks activity, sleep and stress, is worth to make clear that according to some studies from medical papers the stress can be measure by the heart rate, that's not the only factor that contributes to the stress but is a critical point to detect it and that's why I will be using the Activity data set, the sleep data set and the hearth rate data set.
```{r loading datasets}
activity <- read_csv("dailyActivity_merged.csv")
sleep <- read_csv("minuteSleep_merged.csv")
stress <- read_csv("heartrate_seconds_merged.csv")
```
## Preparation of the data sets
First lets see some statics of our data sets:
```{r Summary of the data}
summary(activity)
summary(sleep)
summary(stress)
```
The first thing to notice is that the date in all data sets are in MM/DD/YYYY format also they are not recognized as dates but character type of data and on the sleep and stress data sets the date is long date meaning it also have a time stamp, so lets start by formatting our data.
### More data statics
Now lets check the data sets for unique participants
```{r Counting unique users}
n_distinct(activity$Id)
n_distinct(sleep$Id)
n_distinct(stress$Id)
```
With this new set of statics we can see that:

* The Activity data set have 35 participants
* The Sleep data set have 23 participants
* The Stress data set have 14 participants

## Data Formatting
Now with this first statics let's start with the formatting of the date field in every data set:
```{r Formatting dates}
activity$ActivityDate=as.POSIXct(activity$ActivityDate, format="%m/%d/%Y", tz=Sys.timezone())
sleep$date=as.POSIXct(sleep$date, format="%m/%d/%Y %I:%M:%S", tz="")
stress$Time=as.POSIXct(stress$Time, format="%m/%d/%Y %I:%M:%S", tz="")
```
With this I completed the formatting of the dates as well to include an extra separate column in sleep and stress data set for the time and date, this is important later on for analysis purposes.

## More statistics
Now lets make some summaries for data in each data set:

### Activity data set
```{r Activity summary A}
activity %>% 
  select(TotalSteps,TotalDistance,SedentaryMinutes,Calories) %>% summary()
```
```{r Activity summary B}
activity %>% 
  select(VeryActiveMinutes,FairlyActiveMinutes,LightlyActiveMinutes) %>% summary()
```
This first selective summaries show us some insights:

*The mean total steps are 6547
*The mean total distance traveled is 4.664 miles
*The mean sedentary time in minutes are 995.3 mins (16.58 hrs aprox.)
*The mean of very active (intense) activity minutes is 16.62 mins
*The mean of fairly active activity is 13.07 mins
*The mean of light activity in minutes is 170.1 mins (2.8 hrs aprox.)
*This means that most of the steps and distance traveled is during light activity

### Sleep data set
```{r Sleep summary A}
sleep %>% group_by(Id) %>% summarise(totalMinutes = sum(value))
unique(as.Date(sleep$date))
```
## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
